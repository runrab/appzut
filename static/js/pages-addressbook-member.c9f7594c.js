(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addressbook-member"],{2011:function(t,e,a){"use strict";var s=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(a("b85c")),o=s(a("5530")),n=a("0dbe"),i={name:"member",data:function(){return{CustomBar:this.CustomBar,StatusBar:this.StatusBar,NavBarColor:this.NavBarColor,departUrl:"/sys/sysDepart/queryTreeList",addressSourceUrl:"/sys/user/queryByOrgCodeForAddressList",queryByOrgCodeKeyword:"/sys/user/queryByOrgCodeKeyword",positionUrl:"/sys/position/list",value:"",memberTitle:"",memberList:[],userId:"",orgCode:"",ids:{},memberTotal:0}},onLoad:function(){console.log("this.$Router",this.$Route),this.memberTitle=this.$Route.query.title,this.orgCode=this.$Route.query.orgCode,this.loadList()},computed:{style:function(){var t=this.StatusBar,e=this.CustomBar,a="height:".concat(e,"px;padding-top:").concat(t,"px;");return a}},methods:{backRoute:function(){this.$Router.push({name:"levelAddressBook",params:this.$Route.query})},goMemberInfo:function(t){var e=(0,o.default)({},t);e.orgCode=this.orgCode,this.$Router.push({name:"addressDetail",params:e})},loadList:function(){var t=this,e={orgCode:this.orgCode,realname:this.value};this.$http.get(this.addressSourceUrl,{params:e}).then((function(e){if(console.log("用户2",e),e.data.success){var a,s=e.data.result.records,o=(0,r.default)(s);try{for(o.s();!(a=o.n()).done;){var n=a.value;t.avatarHandler(n),t.memberList.push(n),t.memberTotal=s.length,void 0==t.memberTotal&&(t.memberTotal=0)}}catch(i){o.e(i)}finally{o.f()}}})).catch((function(t){console.log("请求错误",t)})),this.$http.get(this.positionUrl).then((function(e){if(console.log("用户1",e),e.data.success){var a,s=e.data.result.records,o=(0,r.default)(s);try{for(o.s();!(a=o.n()).done;){var n,i=a.value,u=(0,r.default)(t.memberList);try{for(u.s();!(n=u.n()).done;){var c=n.value;c.post==i.code&&(c.post=i.name)}}catch(l){u.e(l)}finally{u.f()}}}catch(l){o.e(l)}finally{o.f()}}})).catch((function(t){console.log("请求错误",t)}))},avatarHandler:function(t){var e=t.avatar;if(e){var a=(0,n.getFileAccessHttpUrl)(e);t.avatar=a}else"2"==t.sex?t.avatar="static/avatar_girl.png":t.avatar="static/avatar_boy.png"}}};e.default=i},"41cb":function(t,e,a){"use strict";a.r(e);var s=a("d9ce"),r=a("ee4a");for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);var n,i=a("f0c5"),u=Object(i["a"])(r["default"],s["b"],s["c"],!1,null,"9617fb42",null,!1,s["a"],n);e["default"]=u.exports},d9ce:function(t,e,a){"use strict";var s;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return s}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"cu-bar fixed",class:[t.NavBarColor],style:t.style},[a("v-uni-view",{staticClass:"cuIcon-back margin-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backRoute()}}},[a("v-uni-text",{staticClass:"margin-left-sm"},[t._v("返回")])],1),a("v-uni-view",{staticClass:"content",style:[{top:t.StatusBar+"px"}]},[t._v(t._s(t.memberTitle))])],1),a("v-uni-view",{staticClass:"cu-list menu-avatar sm-border",style:[{marginTop:"calc("+t.CustomBar+"px + 10px)"}]},[t._l(t.memberList,(function(e,s){return a("v-uni-view",{key:s,staticClass:"cu-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goMemberInfo(e)}}},[a("v-uni-view",{staticClass:"cu-avatar round lg",style:[{backgroundImage:"url("+e.avatar+")"}]}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.realname))]),a("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.post))])],1)],1)})),a("v-uni-view",{staticClass:"text-center text-lg"},[a("v-uni-text",[t._v("共"+t._s(t.memberTotal)+"人")])],1)],2)],1)},o=[]},ee4a:function(t,e,a){"use strict";a.r(e);var s=a("2011"),r=a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,(function(){return s[t]}))}(o);e["default"]=r.a}}]);